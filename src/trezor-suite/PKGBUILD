pkgname="trezor-suite"
pkgver="26.1.2"
pkgrel=0
pkgdesc="The simplier, the safer. This AUR just install the pure AppImage."
arch=("x86_64")
options=(!strip !debug)
_pkgname="Trezor-Suite-$pkgver-linux-$arch"
url="https://github.com/trezor/trezor-suite"
license=("custom:T-RSL")
source=(
    "$_pkgname.AppImage::https://github.com/trezor/$pkgname/releases/download/v$pkgver/$_pkgname.AppImage" # safe AppImage from the official repo
    #"https://github.com/trezor/$pkgname/releases/download/v$pkgver/$_pkgname.AppImage.asc"
    "$pkgname" # Execute file, just execute the AppImage
    "$pkgname.desktop" # Desktop Entry, just execute the AppImage
    "$pkgname.png::https://raw.githubusercontent.com/trezor/trezor-suite/master/suite-native/app/assets/production/appIcon.png" # Icon from the official repo
    "LICENSE.md::https://raw.githubusercontent.com/trezor/trezor-suite/master/LICENSE.md" # LICENSE from the official repo
)
noextract=($_pkgname.AppImage)
sha512sums=('42c9629b99cb53a05634ab0f1f7d26bca526cfdcf52a017bddf8a667ec9167157387a4477646d5028edabaff65da98700656506c8a1975e598bbefc8790ef515'
            'be00d3d3af3cc4a7b0ac8ca0a5c20a210c1b042862e434b6a8cd230b94d023a62e20c866d72c5e7af70bec5f95b612bfb510466a69aac52cded32f17380766b8'
            'c5b562944a30ee13248c5d67cec96c36e44bdd4f1afa707423e4b3df704b68357e6e5c924b7e46f41312ace83fbad396243f65b0cca2451d0ff1c73870842189'
            'f12c122d7f297511cf6b2cf47e41d0a4c1ced4b6d0c34109646e977e51228a3e9249af00ff757da633df840a60e06b86f31e44dfd980876ab9b33139bed2d32c'
            '84ba4ab671d5ccc79d9463f01552cc7ff6b801a6a26a262048dd0be806a345974f618119dd24dae7966e9446cb3e1358d9022caa3d1ff88a6555c96b23793c05')

package() {
    cd $srcdir
    install -Dm755 $_pkgname.AppImage $pkgdir/opt/$pkgname/$pkgname.AppImage
    install -Dm755 -t $pkgdir/usr/bin $pkgname
    install -Dm644 -t $pkgdir/usr/share/applications/ $pkgname.desktop
    install -Dm644 -t $pkgdir/usr/share/icons/hicolor/512x512/apps/ $pkgname.png
    install -Dm644 -t $pkgdir/usr/share/licenses/$pkgname LICENSE.md
}
